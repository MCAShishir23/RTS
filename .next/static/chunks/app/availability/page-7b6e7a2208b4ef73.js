(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{2320:(e,a,t)=>{Promise.resolve().then(t.bind(t,8821))},8821:(e,a,t)=>{"use strict";t.d(a,{default:()=>o});var l=t(5155),s=t(2115),i=t(2651),n=t(3205);function o(){let[e,a]=(0,s.useState)(""),[t,o]=(0,s.useState)(""),[r,d]=(0,s.useState)([]),[c,b]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),h=async()=>{if(!e||!t){m("Please select both date and time.");return}b(!0),m(""),d([]);try{let a=await i.A.post("https://rtm-backend-o47d.onrender.com/api/checkBooking",{date:e,time:t});if(200===a.status&&a.data.booking){let e=a.data.booking.map(e=>({time:e.time,available:e.available}));d(e)}else 404===a.status?m(a.data.message||"No booking found for the selected date and time."):m("No booking found for the selected date and time. Please Book the Table.")}catch(e){if(e instanceof n.pe){var a;m((null===(a=e.response)||void 0===a?void 0:a.data.error)||"An error occurred while fetching availability.")}else e instanceof Error?m(e.message||"An unexpected error occurred."):m("Failed to fetch availability. Please try again.")}finally{b(!1)}};return(0,l.jsxs)("div",{className:"max-w-lg mx-auto p-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Check Availability"}),(0,l.jsx)("label",{htmlFor:"date",className:"block mb-2 font-semibold",children:"Date:"}),(0,l.jsx)("input",{type:"date",id:"date",value:e,onChange:e=>a(e.target.value),className:"w-full mb-4 px-3 py-2 border rounded border-blue-500 bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,l.jsx)("label",{htmlFor:"time",className:"block mb-2 font-semibold",children:"Time:"}),(0,l.jsx)("input",{type:"time",id:"time",value:t,onChange:e=>o(e.target.value),className:"w-full mb-4 px-3 py-2 border rounded border-green-500 bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-400"}),(0,l.jsx)("button",{onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",disabled:c,children:c?"Checking...":"Check Availability"}),u&&(0,l.jsx)("p",{className:"text-red-500 mt-4",children:u}),r.length>0&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold",children:"Available Slots:"}),(0,l.jsx)("ul",{className:"mt-4 space-y-2",children:r.map((e,a)=>(0,l.jsxs)("li",{className:"px-4 py-2 rounded ".concat(e.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e.time," - ",e.available?"Available":"Booked"]},a))})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[205,441,517,358],()=>a(2320)),_N_E=e.O()}]);